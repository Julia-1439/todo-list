<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Todo List</title>
</head>
<body>
  <div id="context-menu" popover>
    <button type="button">Edit</button>
    <button type="button">Mark complete</button>
    <button type="button">Delete</button>    
  </div>
  <div id="notif" class="hidden">Project has been created.</div>
  <header id="sidebar">
    <button id="sidebar-add-todo-btn" type="button">
      <svg class="add-todo-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" fill="#dc583e"/></svg>
      Add task
    </button>
    <div id="sidebar-projects-title">
      My Projects
      <button id="sidebar-add-project-btn" type="button">
        <img src="style-assets/plus.svg" alt="">
      </button>
    </div>
    <nav>
      <ul>
        <li>
          <div class="project-cell">
            <button class="view-project-btn" type="button">
              <img class="project-sym" src="style-assets/pound.svg" alt="">
              <span class="project-title">Learn Web Development</span>
            </button>
            <button class="project-edit-btn" popovertarget="context-menu" popovertargetaction="toggle">
              <img class="project-edit-sym" src="style-assets/dots-horizontal.svg" alt="">
            </button>
          </div>
        </li>
        <li>
          <div class="project-cell">
            <button class="view-project-btn" type="button">
              <img class="project-sym" src="style-assets/pound.svg" alt="">
              <span class="project-title">Train for the Marathon in Downtown</span>
            </button>
            <button class="project-edit-btn">
              <img class="project-edit-sym" src="style-assets/dots-horizontal.svg" alt="">
            </button>
          </div>
        </li>
        <li>
          <div class="project-cell project-completed">
            <button class="view-project-btn" type="button">
              <svg class="project-sym" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.41,21L6.12,17H2.12L2.47,15H6.47L7.53,9H3.53L3.88,7H7.88L8.59,3H10.59L9.88,7H15.88L16.59,3H18.59L17.88,7H21.88L21.53,9H17.53L16.47,15H20.47L20.12,17H16.12L15.41,21H13.41L14.12,17H8.12L7.41,21H5.41M9.53,9L8.47,15H14.47L15.53,9H9.53Z" /></svg>              <span class="project-title">Home üè°</span>
            </button>
            <button class="project-edit-btn">
              <img class="project-edit-sym" src="style-assets/dots-horizontal.svg" alt="">
            </button>
          </div>
        </li>
      </ul>
    </nav>
  </header>
  <div id="main-container">
    <div id="main-topbar" class="sticky">
      <button class="project-edit-btn">
        <img class="project-edit-sym" src="style-assets/dots-horizontal.svg" alt="">
      </button>
    </div>
    <div id="main-content">
      <h1 class="project-title project-completed">Home üè°</h1>
      <div class="project-description project-completed">
        Welcome to home!
      </div>
      <ul>
        <li>
          <div class="todo-card">
            <div class="todo-checkbubble-container">
              <button class="todo-checkbubble todo-completed" name="statusName" type="submit">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" /></svg>
              </button>
            </div>
            <div class="todo-top-row">
              <span class="todo-title">
                <strong>Mow the lawn</strong>
              </span> 
              <div class="todo-btns-container">
                <button class="todo-btn" type="button">
                  <img src="style-assets/chevron-double-down.svg" alt="">
                </button>
                <button class="todo-btn" type="button">
                  <img src="style-assets/dots-horizontal.svg" alt="">
                </button>
              </div>
            </div>
            <div class="todo-due-by">Sep 22-1984, 12:00pm</div>
            <div class="todo-description">It needs to be mowed for cryin' out loud! Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>
          </div>
        </li>
        <li>
          <div class="todo-card">
            <div class="todo-checkbubble-container">
              <button class="todo-checkbubble" name="statusName" type="submit">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" /></svg>
              </button>
            </div>
            <div class="todo-top-row">
              <span class="todo-title">
                <strong>ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss</strong>
              </span> 
              <div class="todo-btns-container">
                <button class="todo-btn" type="button">
                  <img src="style-assets/chevron-double-down.svg" alt="">
                </button>
                <button class="todo-btn" type="button">
                  <img src="style-assets/dots-horizontal.svg" alt="">
                </button>
              </div>
            </div>
            <div class="todo-due-by">Sep 22-1984, 12:00pm</div>
            <div class="todo-description">It needs to be mowed for cryin' out loud! </div>
          </div>
        </li>
        <li>
          <div class="todo-card">
            <div class="todo-checkbubble-container">
              <button class="todo-checkbubble" name="statusName" type="submit">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" /></svg>
              </button>
            </div>
            <div class="todo-top-row">
              <span class="todo-title">
                <strong>Mow the lawn</strong>
              </span> 
              <div class="todo-btns-container">
                <button class="todo-btn" type="button">
                  <img src="style-assets/chevron-double-down.svg" alt="">
                </button>
                <button class="todo-btn" type="button">
                  <img src="style-assets/dots-horizontal.svg" alt="">
                </button>
              </div>
            </div>
            <div class="todo-due-by">Sep 22-1984, 12:00pm</div>
            <div class="todo-description">It needs to be mowed for cryin' out loud! </div>
          </div>
        </li>
        <li>
          <div class="todo-card">
            <div class="todo-checkbubble-container">
              <button class="todo-checkbubble" name="statusName" type="submit">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" /></svg>
              </button>
            </div>
            <div class="todo-top-row">
              <span class="todo-title">
                <strong>Mow the lawn</strong>
              </span> 
              <div class="todo-btns-container">
                <button class="todo-btn" type="button">
                  <img src="style-assets/chevron-double-down.svg" alt="">
                </button>
                <button class="todo-btn" type="button">
                  <img src="style-assets/dots-horizontal.svg" alt="">
                </button>
              </div>
            </div>
            <div class="todo-due-by">Sep 22-1984, 12:00pm</div>
            <div class="todo-description">It needs to be mowed for cryin' out loud! </div>
          </div>
        </li>
      </ul>
      <button id="this-project-add-todo-btn">
        <svg class="add-todo-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" fill="#dc583e"/></svg>
        Add task
      </button>
    </div>
  </div>
  <dialog id="cu-project-dialog">
    <form id="cu-project-form" method="dialog" data-dialog="cu-project-dialog"
      data-operation
      data-uuid
    >
      <fieldset>
        <legend><span data-operation>create</span> project</legend>
        <div>
          <div>
            <label for="cu-project-form-title">
              Title <span aria-label="required">*</span>
            </label>
          </div>
          <input autofocus type="text" name="title" id="cu-project-form-title" 
            required
            maxlength="40"
          >
        </div>
        <div>
          <div>
            <label for="cu-project-form-description">
              Description
            </label>
          </div>
          <textarea id="cu-project-form-description" name="description" maxlength="240"></textarea>
        </div>
      </fieldset>
      <div class="form-finish-row">
        <button class="form-cancel-btn" type="button" form="cu-project-form">Cancel</button>
        <button class="form-submit-btn" type="submit" data-operation><span data-operation>create</span> Project</button>
      </div>
    </form>
  </dialog>
  <dialog id="cu-todo-dialog">
    <form id="cu-todo-form" method="dialog" data-dialog="cu-todo-dialog">
      <fieldset>
        <!-- @todo -->
        <legend><span data-operation="create|edit">Create</span> task</legend>
        <div>
          <label for="cu-todo-form-title">
            Title <span aria-label="required">*</span>
          </label>
        </div>
        <input autofocus type="text" id="cu-todo-form-title" name="title" 
          required
          maxlength="120"
        >
        <div>
          <label for="cu-todo-form-description">
            Description
          </label>
        </div>
        <textarea id="cu-todo-form-description" name="description" maxlength="240"></textarea>
        <div>
          <label for="cu-todo-form-dueby">
            Due by
            <input type="datetime-local" name="dueDateTime" id="cu-todo-form-dueby">
          </label>
        </div>
        <div>
          <label for="cu-todo-form-priority">
            Priority
            <select name="priority" id="cu-todo-form-priority">
              <option value=""></option>
              <option value="p1">P1</option>
              <option value="p2">P2</option>
              <option value="p3">P3</option>
              <option value="p4">P4</option>
            </select>
          </label>
        </div>
        <div class="full-span-row">
          <label for="cu-todo-form-project-selector">
            Select a project <span aria-label="required">*</span>
            <select name="projectUuid" id="cu-todo-form-project-selector"
              required>
              <option value="">Select a project</option>
              <option value="PROJECT UUID GOES HERE">Awesome project!</option>
            </select>
          </label>
        </div>
      </fieldset>
      <div class="form-finish-row">
        <button class="form-cancel-btn" type="button" form="cu-todo-form">Cancel</button>
        <button class="form-submit-btn" type="submit">Add Task</button>
      </div>
    </form>
  </dialog>
  <dialog id="delete-dialog">
    <form id="delete-form" method="dialog" data-dialog="delete-dialog"
      data-object-type="project|todo"
      data-uuid=""      
    >
      This <span data-object-type="">project</span> ‚Äú<strong>Home</strong>‚Äù will be deleted. Confirm? 
      <div class="form-finish-row">
        <button class="form-cancel-btn" type="button" form="delete-form">Cancel</button>
        <button class="form-submit-btn" type="submit" autofocus>Delete</button>
      </div>
    </form>
  </dialog>
  <script defer>
    document.querySelector("#cu-project-dialog").showModal();
    // document.querySelector("#delete-dialog").showModal();
    // document.querySelector("#cu-todo-dialog").showModal();

    document.querySelectorAll(".form-cancel-btn").forEach((btn) => {
      btn.addEventListener("click", (evt) => {
        const form = btn.form;
        form.reset();

        const dialog = document.querySelector(`#${form.dataset.dialog}`);
        dialog.close();
      });
    });
  </script>
</body>
</html>